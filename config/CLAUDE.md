# Configuration Directory

## Purpose

Configuration schema, presets, and templates for `backlog.config.json` and related configuration files.

## Structure

### `schema.json`
JSON Schema defining the structure and validation rules for `backlog.config.json`.

**Key sections**:
- `project`: Name, stack, paths
- `backlog`: Data directory, templates, ticket prefixes
- `qualityGates`: Type check, lint, test, build commands
- `codeRules`: Hard/soft gates, code standards
- `ticketValidation`: Required sections, minimum criteria
- `agentRouting`: File pattern â†’ agent type mapping
- `reviewPipeline`: Reviewers, confidence threshold, max rounds
- `llmOps`: Gateway URL, cost limits, cache config

### `presets/`
Pre-configured settings for common project types:
- `typescript.json`: Node.js/TypeScript projects
- `python.json`: Python projects
- `go.json`: Go projects
- `rust.json`: Rust projects
- `generic.json`: Fallback for unknown stacks

Each preset includes stack-appropriate:
- Quality gate commands
- File patterns
- Lint/test configurations

### `litellm/`
LiteLLM proxy configuration templates and documentation.

See `litellm/CLAUDE.md` for details.

## Configuration File Format

The `backlog.config.json` file follows this structure:

```json
{
  "version": "1.0",
  "project": {
    "name": "my-project",
    "stack": "typescript",
    "rootDir": "."
  },
  "backlog": {
    "dataDir": "backlog/data",
    "templatesDir": "backlog/templates",
    "ticketPrefixes": ["FEAT", "BUG", "TASK", "IDEA"],
    "requiredSections": ["context", "description", "acceptanceCriteria"]
  },
  "qualityGates": {
    "typeCheckCommand": "npx tsc --noEmit",
    "lintCommand": "npx eslint .",
    "testCommand": "npx vitest run",
    "buildCommand": "npx tsc"
  },
  "agentRouting": {
    "rules": [
      {"pattern": "**/*.tsx", "agent": "frontend"},
      {"pattern": "**/*.py", "agent": "backend"}
    ],
    "llmOverride": true
  },
  "reviewPipeline": {
    "reviewers": [
      {"type": "spec-compliance", "weight": 1.0},
      {"type": "code-quality", "weight": 0.8}
    ],
    "confidenceThreshold": 80,
    "maxReviewRounds": 2
  }
}
```

## Schema Validation

The config schema is enforced by:
1. `backlog-init` during generation
2. `backlog-ticket` before creating tickets
3. `backlog-implementer` before execution
4. Test scripts: `tests/test-config-schema.sh`

## Preset Selection

When running `backlog-init`, the toolkit:
1. Detects project stack (checks for package.json, pyproject.toml, go.mod, etc.)
2. Loads appropriate preset from `config/presets/`
3. Customizes for project specifics
4. Writes `backlog.config.json` at project root

## Customization

After initialization, edit `backlog.config.json` to:
- Adjust quality gate commands
- Add custom agent routing rules
- Configure review pipeline
- Set cost limits
- Define custom ticket types

## Related Documentation

- `docs/reference/config-schema.md`: Complete schema documentation
- `docs/tutorials/advanced-configuration.md`: Configuration guide
- `skills/backlog-init/`: Init skill that generates config

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 19, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7778 | 5:03 PM | ðŸ”µ | Schema Configuration for Model Routing and Token Policies | ~367 |
| #7725 | 4:52 PM | ðŸ”µ | Complete Configuration Schema Found | ~402 |
| #7639 | 3:35 PM | ðŸ”µ | Configuration Schema Structure Exploration | ~235 |
| #7637 | " | ðŸ”µ | Configuration Schema Verification | ~236 |
| #7636 | " | âœ… | Cache Configuration Schema Updated | ~277 |
| #7607 | 3:18 PM | ðŸ”µ | Backlog Configuration Schema Structure | ~254 |
| #7521 | 2:18 PM | ðŸ”µ | Comprehensive LLMOps Configuration Schema | ~407 |
</claude-mem-context>