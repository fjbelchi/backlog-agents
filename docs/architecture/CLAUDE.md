# Architecture Documentation

## Purpose

Design decisions, system architecture, and architectural decision records (ADRs) for the Backlog Toolkit.

## Structure

### `adr/`
Architecture Decision Records documenting key technical decisions:
- ADR format: `NNN-title.md` (e.g., `001-use-markdown-tickets.md`)
- Each ADR includes: Context, Decision, Consequences, Status

### Architecture Documents

#### `agent-coordination.md`
How agents communicate and coordinate during ticket implementation:
- Message passing protocols
- Task assignment and ownership
- Conflict resolution
- State synchronization

#### `quality-gates.md`
Design of the 5-gate implementation pipeline:
1. **Plan Gate**: Verify implementation plan
2. **TDD Gate**: Tests written before code
3. **Lint Gate**: Style and type checking
4. **Review Gate**: Multi-agent code review
5. **Commit Gate**: Git commit with tracking

#### `ticket-lifecycle.md`
State transitions for tickets from creation to completion:
- Status values: pending â†’ in-progress â†’ completed
- State validation rules
- Transition triggers
- Rollback procedures

#### `cost-model.md`
How costs are estimated and tracked:
- Token estimation algorithms
- Model selection strategies
- Cost attribution (per skill, per ticket)
- Budget enforcement

#### `plugin-architecture.md`
Plugin system design:
- Command vs Skill separation
- Load order and dependencies
- Skill discovery mechanism
- External plugin integration

## ADR Process

### Creating a New ADR

1. **Identify decision**: Recognize when an architectural choice needs documentation
2. **Number sequentially**: Find highest existing ADR number, add 1
3. **Use template**:
```markdown
# ADR-NNN: Title

## Status
Proposed | Accepted | Deprecated | Superseded by ADR-XXX

## Context
What is the issue that motivates this decision?

## Decision
What is the change that we're proposing and/or doing?

## Consequences
What becomes easier or more difficult as a result of this change?
```

4. **Review and accept**: Get team consensus before marking Accepted

### Example ADRs

- **ADR-001**: Use Markdown for ticket storage (vs database)
- **ADR-002**: Embed skills in plugin (vs external dependencies)
- **ADR-003**: Use LiteLLM for model routing (vs direct API calls)
- **ADR-004**: Implement 5-gate pipeline (vs simpler 2-gate)

## Updating Architecture Docs

When making significant changes:
1. Update relevant architecture doc
2. Create ADR if decision has long-term impact
3. Update `docs/README.md` index
4. Run doc validation: `./scripts/docs/check-links.sh`

## Related Documentation

- `docs/skills/`: How each skill implements these patterns
- `docs/reference/`: API and configuration references


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 18, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7137 | 2:40 PM | ðŸŸ£ | Architecture Documentation Framework Created | ~340 |
</claude-mem-context>