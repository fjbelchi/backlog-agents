# Backlog Ticket Skill

## Purpose

Generates high-quality, validated tickets from short descriptions. Analyzes codebase for context, fills all template sections, runs validation checks, and includes cost estimates.

## Key Features

1. **Codebase Analysis**: Searches for relevant files, functions, and patterns
2. **Intelligent Filling**: Auto-fills all template sections with real content
3. **Auto ID Assignment**: Determines next available ticket ID by prefix
4. **6 Validation Checks**: Completeness, backlog coherence, gaps, contracts, impact, consistency
5. **Cost Estimation**: Estimates tokens and USD for Opus, Sonnet, Haiku

## Ticket Creation Flow

1. **Parse Input**: Extract description and infer ticket type
2. **Analyze Context**: Search codebase for relevant code
3. **Select Template**: Choose TASK, BUG, FEAT, or IDEA based on description
4. **Fill Sections**:
   - Context: Why this ticket exists
   - Description: Detailed implementation approach
   - Affected Files: Files to be modified
   - Acceptance Criteria: 3+ specific, testable criteria
   - Test Strategy: How to verify it works
   - Dependencies: Required tickets or external deps
5. **Assign ID**: Next sequential ID for ticket type (e.g., FEAT-042)
6. **Validate**: Run 6 validation checks
7. **Estimate Cost**: Calculate token usage and USD cost
8. **Write File**: Save to `backlog/data/pending/`

## Validation Checks

### 1. Completeness
All required sections filled with substantive content (not placeholders)

### 2. Backlog Coherence
Ticket doesn't duplicate existing tickets, fits into backlog structure

### 3. Inter-Ticket Gaps
Dependencies and blockers properly declared

### 4. Contract Verification
Affected files exist, acceptance criteria are testable

### 5. Impact Analysis
Changes won't break existing functionality, side effects considered

### 6. Consistency
Ticket follows project conventions, style matches existing tickets

## Cost Estimation

Included in each ticket under **Cost Estimate** section:

```markdown
## Cost Estimate

| Model | Estimated Tokens | Estimated Cost |
|-------|-----------------|----------------|
| Opus 4.6 | 2,500 | $0.08 |
| Sonnet 3.5 | 2,500 | $0.01 |
| Haiku 3.5 | 2,500 | $0.00 |

*Estimates based on similar completed tickets and historical data.*
```

## Invocation

```bash
# Basic usage
/backlog-toolkit:ticket "Add user authentication"

# With more context
/backlog-toolkit:ticket "Fix login redirect bug on Safari - users get 404 after OAuth callback"
```

## Output

Creates ticket file at `backlog/data/pending/{TYPE}-{NNN}.md`:
- Properly formatted frontmatter
- All sections filled
- Validation passed
- Cost estimated

## Configuration

Uses `backlog.config.json`:

```json
{
  "ticketValidation": {
    "requireTestStrategy": true,
    "requireAffectedFiles": true,
    "minAcceptanceCriteria": 3,
    "requireVerificationCommands": true
  }
}
```

## Related Files

- `SKILL.md`: Full skill implementation
- `templates/`: Ticket templates
- `scripts/ticket/`: Helper utilities
- `docs/skills/backlog-ticket.md`: User documentation

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 18, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7153 | 2:44 PM | âœ… | Backlog ticket skill documentation created | ~265 |

### Feb 19, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7999 | 5:36 PM | ðŸŸ£ | RAG integration completed across all backlog skills | ~336 |
| #7971 | 5:32 PM | ðŸ”µ | Backlog-ticket skill writes tickets to pending directory | ~237 |
| #7690 | 4:50 PM | ðŸ”µ | Backlog ticket skill performs 6-check validation with cost estimation | ~299 |

### Feb 20, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #8585 | 1:39 PM | ðŸŸ£ | Context tracking integrated into all three skills | ~327 |
</claude-mem-context>