# Backlog Refinement Skill

## Purpose

Maintains backlog health by validating tickets, detecting duplicates, checking code references, and generating health reports.

## Key Features

1. **Code Reference Validation**: Verifies files mentioned in tickets still exist
2. **Duplicate Detection**: Identifies tickets with overlapping scope
3. **Completeness Check**: Ensures all required sections present and filled
4. **Severity Update**: Adjusts priority based on current codebase state
5. **Health Scoring**: Generates 0-100 backlog health score
6. **Obsolete Cleanup**: Moves stale tickets to completed

## Health Checks

### Code References
- Parse `affectedFiles` section of each ticket
- Check if files exist at specified paths
- Flag tickets with missing files
- Suggest updating or marking obsolete

### Duplicate Detection
- Compare ticket descriptions and acceptance criteria
- Calculate similarity scores
- Identify potential duplicates
- Suggest merging or closing

### Completeness
- Verify all required sections present
- Check for empty or placeholder values
- Ensure minimum acceptance criteria count (default: 3)
- Validate frontmatter YAML

### Priority/Severity
- Re-evaluate based on:
  - Number of affected files
  - Dependencies on other tickets
  - Time since creation
- Suggest priority adjustments

## Health Report

Generated at `backlog/health-report-YYYY-MM-DD.md`:

```markdown
# Backlog Health Report

Generated: 2026-02-18

## Summary
- Total tickets: 42
- Healthy: 35 (83%)
- Needs attention: 7 (17%)
- Overall health: 83/100

## Issues
1. FEAT-003: Missing code references (src/auth.ts deleted)
2. BUG-015: Duplicate of BUG-012
3. TASK-008: Empty test strategy section

## Recommendations
- Update FEAT-003 with current file paths
- Merge BUG-015 into BUG-012
- Complete TASK-008 test strategy
```

## Invocation

```bash
/backlog-toolkit:refinement
```

No arguments. The skill:
1. Scans all tickets in `backlog/data/pending/`
2. Runs validation checks
3. Generates health report
4. Optionally moves obsolete tickets
5. Reports findings and recommendations

## Configuration

Controlled by `backlog.config.json`:

```json
{
  "ticketValidation": {
    "requireTestStrategy": true,
    "requireAffectedFiles": true,
    "requireDependencyCheck": true,
    "minAcceptanceCriteria": 3
  }
}
```

## When to Run

- **Weekly**: Regular backlog hygiene
- **Before sprints**: Clean up before planning
- **After merges**: Update tickets based on code changes
- **When backlog grows**: Keep quality high as tickets accumulate

## Related Files

- `SKILL.md`: Full skill implementation
- `scripts/refinement/`: Helper utilities
- `docs/skills/backlog-refinement.md`: User documentation

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Feb 18, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7152 | 2:44 PM | ðŸŸ£ | Backlog Refinement Skill Documentation Added | ~395 |

### Feb 19, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #7999 | 5:36 PM | ðŸŸ£ | RAG integration completed across all backlog skills | ~336 |
| #7970 | 5:31 PM | ðŸ”µ | Backlog refinement skill verifies file existence | ~227 |
| #7691 | 4:50 PM | ðŸ”µ | Backlog refinement skill v3.0 architecture revealed | ~293 |

### Feb 20, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #8585 | 1:39 PM | ðŸŸ£ | Context tracking integrated into all three skills | ~327 |
| #8577 | 1:38 PM | ðŸ”µ | Backlog refinement skill v3.0 comprehensive validation workflow | ~343 |
</claude-mem-context>